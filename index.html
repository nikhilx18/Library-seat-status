<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Library Seat Layout</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-green-50 min-h-screen py-6">
  <h1 class="text-3xl font-bold text-center mb-6">Library Scholar Desk Status</h1>  <div class="space-y-6 max-w-6xl mx-auto px-4">
    <!-- Row 1: Seats 1–9 -->
    <div class="flex flex-wrap justify-center gap-4">
      <!-- injected dynamically -->
    </div><!-- Row 2: Seats 10–12 and 24 in corner -->
<div class="flex flex-wrap justify-center items-start gap-4">
  <div class="flex gap-4">
    <div class="row-2" data-seats="10,11,12"></div>
  </div>
  <div class="ml-auto" data-seats="24"></div>
</div>

<!-- Row 3: Seats 13–23 -->
<div class="flex flex-wrap justify-center gap-4">
  <!-- injected dynamically -->
</div>

<!-- Row 4: Manager Seat -->
<div class="flex justify-center mt-10">
  <div data-seats="25"></div>
</div>

  </div>  <!-- Modal -->  <div id="seatModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white rounded-xl p-6 w-full max-w-md relative">
      <button onclick="closeModal()" class="absolute top-2 right-3 text-2xl text-gray-600">&times;</button>
      <h2 class="text-lg font-bold mb-4" id="modalSeatName"></h2>
      <form id="seatForm" class="space-y-4">
        <select id="status" class="w-full border rounded px-3 py-2">
          <option value="Coming">Coming</option>
          <option value="Not Coming">Not Coming</option>
          <option value="Custom">Custom Message</option>
        </select>
        <input type="text" id="customMessage" placeholder="Enter message (optional)" class="w-full border rounded px-3 py-2">
        <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded">Update Status</button>
      </form>
      <p class="text-sm text-gray-500 mt-3" id="lastUpdated"></p>
    </div>
  </div>  <script>
    const seatData = [
      { number: 1, name: "Scholar 1" }, { number: 2, name: "Scholar 2" },
      { number: 3, name: "Scholar 3" }, { number: 4, name: "Scholar 4" },
      { number: 5, name: "Scholar 5" }, { number: 6, name: "Scholar 6" },
      { number: 7, name: "Scholar 7" }, { number: 8, name: "Scholar 8" },
      { number: 9, name: "Scholar 9" }, { number: 10, name: "Scholar 10" },
      { number: 11, name: "Scholar 11" }, { number: 12, name: "Scholar 12" },
      { number: 24, name: "Scholar 24" }, { number: 13, name: "Scholar 13" },
      { number: 14, name: "Scholar 14" }, { number: 15, name: "Scholar 15" },
      { number: 16, name: "Scholar 16" }, { number: 17, name: "Scholar 17" },
      { number: 18, name: "Scholar 18" }, { number: 19, name: "Scholar 19" },
      { number: 20, name: "Scholar 20" }, { number: 21, name: "Scholar 21" },
      { number: 22, name: "Scholar 22" }, { number: 23, name: "Scholar 23" },
      { number: 25, name: "Manager" },
    ];

    const rows = document.querySelectorAll("[data-seats]");
    const flexRows = document.querySelectorAll(".flex.flex-wrap");
    const modal = document.getElementById("seatModal");
    const modalSeatName = document.getElementById("modalSeatName");
    const lastUpdatedText = document.getElementById("lastUpdated");
    let currentSeat = null;

    function renderSeat(seat) {
      const div = document.createElement("div");
      div.className = "w-24 h-28 bg-gray-300 rounded-xl flex flex-col items-center justify-center shadow hover:scale-105 transition cursor-pointer";
      div.style.backgroundColor = seat.color || "#d1d5db";
      div.innerHTML = `
        <div class='w-8 h-4 bg-gray-700 mb-1 rounded-t-sm'></div>
        <div class='w-14 h-12 bg-white border-2 border-gray-400 rounded-md flex items-center justify-center text-sm font-semibold'>${seat.number}</div>
        <span class='text-xs mt-1 text-center'>${seat.name}</span>
      `;
      div.onclick = () => openModal(seat);
      return div;
    }

    function renderSeats() {
      flexRows[0].innerHTML = ""; // seats 1–9
      flexRows[2].innerHTML = ""; // seats 13–23

      seatData.forEach(seat => {
        if (seat.number >= 1 && seat.number <= 9) {
          flexRows[0].appendChild(renderSeat(seat));
        } else if (seat.number >= 13 && seat.number <= 23) {
          flexRows[2].appendChild(renderSeat(seat));
        }
      });

      rows.forEach(row => {
        const seats = row.dataset.seats.split(",").map(s => parseInt(s.trim()));
        row.innerHTML = "";
        seats.forEach(num => {
          const seat = seatData.find(s => s.number === num);
          if (seat) row.appendChild(renderSeat(seat));
        });
      });
    }

    function openModal(seat) {
      currentSeat = seat;
      modalSeatName.textContent = `Seat ${seat.number} - ${seat.name}`;
      lastUpdatedText.textContent = seat.lastUpdated ? `Last Updated: ${seat.lastUpdated}` : "Not updated yet.";
      document.getElementById("status").value = seat.status || "Coming";
      document.getElementById("customMessage").value = seat.custom || "";
      modal.classList.remove("hidden");
    }

    function closeModal() {
      modal.classList.add("hidden");
    }

    document.getElementById("seatForm").addEventListener("submit", (e) => {
      e.preventDefault();
      const status = document.getElementById("status").value;
      const msg = document.getElementById("customMessage").value;
      const time = new Date().toLocaleString();
      let color = "#ccc";
      if (status === "Coming") color = "#38a169";
      else if (status === "Not Coming") color = "#e53e3e";
      else if (status === "Custom") color = "#d69e2e";

      currentSeat.status = status;
      currentSeat.custom = msg;
      currentSeat.lastUpdated = time;
      currentSeat.color = color;
      renderSeats();
      closeModal();
    });

    renderSeats();
  </script></body>
</html>
